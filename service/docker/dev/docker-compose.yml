version: '3'
services:
  auth-ct.vige.it:
    image: "quay.io/keycloak/keycloak:20.0.2"
    ports:
      - "8080:8080"
    environment:
      - KEYCLOAK_ADMIN=admin
      - KEYCLOAK_ADMIN_PASSWORD=admin
    command:
      - start-dev --import-realm
    volumes:
      - ./volume/import:/opt/keycloak/data/import
  cities-generator-service.vige.it:
    image: "vige/cities-generator"
    ports:
      - "8380:8080"
      - "8300:8000"
    environment:
      - COUNTRY=${COUNTRY}
    volumes:
      - cities-generator-volume:/root/cities-generator
volumes:
  cities-generator-volume:
