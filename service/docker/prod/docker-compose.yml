version: '3'
services:
  auth-ct.vige.it:
    image: "vige/cities-generator-auth"
    ports:
      - "8443:8443"
    environment:
      - KEYCLOAK_ADMIN=admin
      - KEYCLOAK_ADMIN_PASSWORD=admin
    command:
      - start --hostname=auth-ct.vige.it --https-key-store-file=/opt/keycloak/conf/cert/application.keystore --import-realm
  cities-generator-service.vige.it:
    image: "vige/cities-generator"
    ports:
      - "8743:8443"
    environment:
      - COUNTRY=${COUNTRY}